<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="sysUsr">
	<select id="sysUsr.getSysUsrList" parameterType="hashMap" resultType="hashMap">
	<![CDATA[
		SELECT /* sysUsr.getSysUsrList */
			   USR_ID, USR_NM, REG_DT
		  FROM SYS_USR
	]]>
		<trim prefix="WHERE" prefixOverrides="AND|OR">
			<if test="(grpCd != null or grpCD != '') and (roleCd != null or roleCd != '')">
				<if test="grpCd == 'IN'">
					<foreach item="cd" index="index" collection="roleCd" open=" AND ROLE_CD IN (" separator="," close=")">
				#{cd}
					</foreach>
				</if>
				<if test="grpCd == 'NOT'">
					<foreach item="cd" index="index" collection="roleCd" open=" AND ROLE_CD NOT IN (" separator="," close=")">
				#{cd}
					</foreach>
				</if>
			</if>
		</trim>
		 ORDER BY CRE_DT ASC
	</select>

	<select id="sysUsr.getSysUsrInfo" parameterType="hashMap" resultType="hashMap">
	<![CDATA[
		SELECT /* sysUsr.getSysUsrInfo */
			   USR_ID, USR_NM, ROLE_CD, SITE_CD, REG_DT, UPD_DT
		  FROM SYS_USR
		 WHERE USR_ID = #{usrId}
		   AND PASSWD = #{passwd}
		   AND USE_YN = 'Y'
	]]>
	</select>
</mapper>